/*!*************************************************************** 
***********COPYRIGHT (c) 2014 Medium Rare www.mrare.co **********
**** unauthorised copying or use elsewhere is not permitted *****
*****************************************************************/
function Variant(){function a(){$("#vd").html($("#vck").html()),Y=$("#vck"),Z=$("#vd"),_="undefined"!==$("body").attr("vge")?$("body").attr("vge"):"mrv_variant.default",ab=$("body").attr("vgf")?$("#vck "+$("body").attr("vgf")):Y,bb=$("body").attr("vgf")?$("#vd "+$("body").attr("vgf")):Z,cb=$("body").attr("vgg")?$("#vck "+$("body").attr("vgg")):ab,db=$("body").attr("vgg")?$("#vd "+$("body").attr("vgg")):bb,eb=$("body").attr("vgh")?$("#vck "+$("body").attr("vgh")):ab,fb=$("body").attr("vgh")?$("#vd "+$("body").attr("vgh")):bb}function b(){$("#container").css("height",$(window).height()),$("#vd").css("height",$(window).height()).css("width",window.innerWidth-250),$("nav").css("width",$(window).width()-250),$("#vch").css("height",$(window).height()-$("#vek").outerHeight()-$("#logo-area").outerHeight()-120)}function c(a){var b,c=$("#"+a).find("section, header, footer").clone(),d=g($(c));eb!=ab?$(c).addClass(a+"-"+d).appendTo(ab):(b=$(ab).find("footer"),b.length?$(c).addClass(a+"-"+d).insertBefore(b):$(c).addClass(a+"-"+d).appendTo(ab)),$("#vch").append('<div class="vds '+$("#"+a).attr("data-section-height")+" type-"+$("#"+a).attr("data-section-type")+'" vaf="'+a+'" vag="'+a+"-"+d+'"><span class="original" contenteditable="true">'+$("#"+a).attr("vah")+'</span><div class="vf"><i class="vam vicon vicon-trash-bin" vag="'+a+"-"+d+'"></i></div></div>'),$("#vch").sortable({revert:!1,cursor:"move",opacity:.7,delay:150,update:function(){f()}}),T(),h()}function d(a,b,c){if($("#vck nav").remove(),"original"==c){var d=$("#"+a).html();cb.prepend(d),cb.find("nav").addClass(b).addClass("original"),g(cb.find("nav"))}"custom"==c&&(d=document.getHTML($("#vad [veu="+a+"]").get(0),!0),cb.prepend(d)),T(),h()}function e(a,b){if($("#vck footer").remove(),"original"==b){var c=$("#"+a).html();eb.append(c),eb.find("footer").addClass("original"),g(eb.find("footer"))}"custom"==b&&(c=document.getHTML($("#vab [vet="+a+"]").get(0),!0),eb.append(c)),T(),h()}function f(){var a=$(bb.selector),b=$(ab.selector),c=a.find("footer"),d=b.find("footer");$("#vch .vds").each(function(){var e=$(this).attr("vag"),f=b.find("."+e),g=f.clone(),h=b.find("[vfb="+e+"]"),i=h.clone();h.remove(),d.length?i.insertBefore(d):i.appendTo(b),f.remove(),d.length?g.insertBefore(d):g.appendTo(b),f=a.find("."+e),g=f.clone(),h=a.find("[vfb="+e+"]"),i=h.clone(),h.remove(),c.length?i.insertBefore(c):i.appendTo(a),f.remove(),c.length?g.insertBefore(c):g.appendTo(a)}),T(),h()}function g(a){var b=(new Date).getTime(),c="vew-"+b;return $(a).is("nav, header, .divider-background")&&($(a).attr("vai",c),$(a).addClass(c)),$(a).find("p, span, a, h1, h2, h3, h4, h5, h6, strong, em, ul, li, div, i, img, header, figure, video, iframe").each(function(a){var b=c+"-"+a;$(this).attr("vai",b),$(this).addClass(b),$(this).is("nav, li, ul, div, i, img, header, figure, video, iframe")||($(this).addClass("original"),$(this).attr("contenteditable","true"))}),b}function h(){$("#vd").html($("#vck").html()),setTimeout(function(){reInit("#vd")},100)}function i(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function j(){$("#vcr").modal({autoResize:!0,overlayClose:!0,opacity:40,minHeight:400,minWidth:800,overlayCss:{"background-color":"#3e3e3e"},closeHTML:'<i class="vicon vicon-delete"></i>',closeClass:"vcn",onShow:function(){$("#vdo").val(""),b()},onClose:function(){$.modal.close(),b()}})}function k(){var a,b=(new Date).getTime(),c="veu-"+b,d=$("#vdn").val();$("#vdn").val(""),$("#vck nav").removeClass("original").addClass("custom").addClass(c).attr("veu",c).attr("vfd",d),$("#vd nav").removeClass("original").addClass("custom").addClass(c).attr("veu",c).attr("vfd",d),$("#vad").append($("#vck nav").clone()),a=$("#vad").html(),$.localStorage(_+".vae",a),l($("."+c))}function l(a){$("#vcy").append('<li class="vcz" nav-id="'+$(a).attr("veu")+'" vda="'+$(a).attr("veu")+'" origin="custom">'+$(a).attr("vfd")+'<i class="vao vicon vicon-trash-bin"></i></li>')}function m(){$("#vad").append($.localStorage(_+".vae")),$("#vad nav").each(function(){l($(this))})}function n(){var a=$("#vd nav"),b=a.attr("veu");$("#vck ."+b).html(a.html()),$("#vad ."+b).html(a.html()),$("#vad .vff").removeClass("vff"),$.localStorage(_+".vae",$("#vad").html())}function o(){var a=$("#vd footer"),b=a.attr("vet");$("#vck ."+b).html(a.html()),$("#vab ."+b).html(a.html()),$("#vab .vff").removeClass("vff"),$.localStorage(_+".customfooters",$("#vab").html())}function p(){$("#vcq").modal({autoResize:!0,overlayClose:!0,opacity:40,minHeight:400,minWidth:800,overlayCss:{"background-color":"#3e3e3e"},closeHTML:'<i class="vicon vicon-delete"></i>',closeClass:"vcn",onShow:function(){$("#vdm").val(""),b()},onClose:function(){$.modal.close(),b()}})}function q(){var a,b=(new Date).getTime(),c="vet-"+b,d=$("#vdl").val();$("#vdl").val(""),$("#vck footer").removeClass("original").addClass("custom").addClass(c).attr("vet",c).attr("vey",d),$("#vd footer").removeClass("original").addClass("custom").addClass(c).attr("vet",c).attr("vey",d),$("#vab").append($("#vck footer").clone()),a=$("#vab").html(),$.localStorage(_+".customfooters",a),r($("."+c))}function r(a){$("#vbn").append('<li class="vbo" vbm="'+$(a).attr("vet")+'" vbp="'+$(a).attr("vet")+'" origin="custom">'+$(a).attr("vey")+'<i class="van vicon vicon-trash-bin"></i></li>')}function s(){$("#vab").append($.localStorage(_+".customfooters")),$("#vab footer").each(function(){r($(this))})}function t(){$(".veg").removeClass("vef"),$("#vee").toggleClass("vef")}function u(a){$("#vbk").modal({autoResize:!0,overlayClose:!0,opacity:40,minHeight:420,minWidth:800,overlayCss:{"background-color":"#3e3e3e"},closeHTML:'<i class="vicon vicon-delete"></i>',closeClass:"vcn",onShow:function(){$("#vce").addClass("vez"),""!=$("#vd ."+a).text()&&$("#vbc").text(" - "+$("#vd ."+a).text());var c=$("."+a);c.hasClass("vgm")?$("#vbc").text("for Lightbox Image"):S(),$("#vbf").val($("."+a).attr("href").replace("../img/","img/")),$("#vbg").val(a),$(".vbi").removeAttr("selected"),$("#vbj-"+$("."+a).attr("target")).attr("selected","selected"),b()},onClose:function(){$.modal.close(),b()}})}function v(a){$("#vbb").modal({autoResize:!0,overlayClose:!0,opacity:40,minHeight:620,minWidth:850,overlayCss:{"background-color":"#3e3e3e"},closeHTML:'<i class="vicon vicon-delete"></i>',closeClass:"vcn",onShow:function(){$("#vca").html($("#vbr").html()),$("#vba").attr("src",$("."+a).attr("src")),$("#vay").val($("."+a).attr("src").replace("../img/","img/")),$("#vaw").val(a),$("#vaq").val($("."+a).attr("alt")),b()},onClose:function(){K(),$.modal.close(),b()}})}function w(a){$("#veb").modal({autoResize:!0,overlayClose:!0,opacity:40,minHeight:620,minWidth:900,maxWidth:900,overlayCss:{"background-color":"#3e3e3e"},closeHTML:'<i class="vicon vicon-delete"></i>',closeClass:"vcn",onShow:function(){$("#vea").val(a),b()},onClose:function(){$.modal.close(),b()}})}function x(a){$("#edit-video").modal({autoResize:!0,overlayClose:!0,opacity:40,minHeight:620,minWidth:900,maxWidth:900,overlayCss:{"background-color":"#3e3e3e"},closeHTML:'<i class="vicon vicon-delete"></i>',closeClass:"vcn",onShow:function(){$("#vfx").val(a),$("#vfu").val($("."+a+' > source[type="video/mp4"]').attr("src").replace("../video/","video/")),$("#vfv").val($("."+a+' > source[type="video/webm"]').attr("src").replace("../video/","video/")),$("#vfw").val($("."+a+' > source[type="video/ogg"]').attr("src").replace("../video/","video/")),b()},onClose:function(){$.modal.close(),b()}})}function y(){$("#vcs").modal({autoResize:!0,overlayClose:!0,opacity:40,minHeight:400,minWidth:800,overlayCss:{"background-color":"#3e3e3e"},closeHTML:'<i class="vicon vicon-delete"></i>',closeClass:"vcn",onShow:function(){$("#vdp").val(""),b()},onClose:function(){$.modal.close(),b()}})}function z(a){var b=a.data("vgl"),c=$(a).find(b.selector+"["+b.attribute+"]"),d=$(c).attr(b.attribute);$("#vfl").text(b.vgi),$("#vfn").text(b.vgj),$("#vfo").text(b.vgk),$("#vfp").val(d),$("#vga").val($(c).attr("vai")),$("#vgb").val(b.attribute),$("#vfl").text(b.vgi),$("#vfz").text(b.buttonText).removeClass("vez")}function A(){$("#vfk").modal({autoResize:!0,overlayClose:!0,opacity:40,minHeight:620,minWidth:900,maxWidth:900,overlayCss:{"background-color":"#3e3e3e"},closeHTML:'<i class="vicon vicon-delete"></i>',closeClass:"vcn",onShow:function(){b()},onClose:function(){$.modal.close(),b()}})}function B(){var a=$("."+$("#vga").val()),b=$("#vfp").val(),c=$("#vgb").val(),d=$(a).closest("section").data("vgl");-1!=b.indexOf("<")&&$(b).is("iframe")&&"src"==c&&(b=$(b).attr("src")),$(a).attr(c,b),T(),"true"==d.refresh&&h()}function C(a){var b=$("#vd ."+a).clone(),c=$("#vck ."+a).clone(),d=(new Date).getTime(),e="vew-"+d;b.attr("vai",e),c.attr("vai",e),b.alterClass("vew-*",""),c.alterClass("vew-*",""),b.addClass(e),c.addClass(e),b.find("p, span, a, h1, h2, h3, h4, h5, h6, strong, em, ul, li, div, i, img").each(function(a){var b="vew-"+d+"-"+a;$(this).attr("vai",b),$(this).alterClass("vew-*",""),$(this).addClass(b)}),c.find("p, span, a, h1, h2, h3, h4, h5, h6, strong, em, ul, li, div, i, img").each(function(a){var b="vew-"+d+"-"+a;$(this).attr("vai",b),$(this).alterClass("vew-*",""),$(this).addClass(b)}),b.insertAfter($("#vd ."+a)),c.insertAfter($("#vck ."+a)),c.insertAfter($("#vad ."+a)),T(),$("#vd ."+a).parents().find(".vbt")&&h(),$("#vaa").hide()}function D(a,b){b="undefined"!=typeof b?b:!1,b===!0&&($("#vd ."+a).remove(),$("#vck ."+a).remove()),$("#vbw").hasClass("vez")?($("#vd ."+a).addClass("vev").removeClass("vfh"),$("#vck ."+a).addClass("vev").removeClass("vfh")):($("#vd ."+a).addClass("vff").removeClass("vfh"),$("#vck ."+a).addClass("vff").removeClass("vfh")),$("#vd ."+a).parents().find(".vbt")&&h(),T(),$("#vaa").hide()}function E(a){if($(a).siblings().length)$(a).remove();else{var b=$(a).parent();$(a).remove(),E(b)}}function F(){var a=$("."+$("#vbg").val()),b=$("#vbf").val(),c=$("#vbj").val();a.hasClass("vgm")&&(a.find("img[alt]").length&&a.attr("data-title",a.find("img").attr("alt")),"img/"==b.substring(0,4)&&(b=b.replace("img/","../img/"))),a.removeClass("inner-link").attr("href",b).attr("target",c),-1!=b.indexOf("#")&&a.addClass("inner-link"),T()}function G(){var a=$("#vay").val(),b=$("."+$("#vaw").val());"img/"==a.substring(0,4)&&(a=a.replace("img/","../img/")),b.attr("src",a),b.attr("alt",$("#vaq").val()),b.closest("a.vgm").length&&b.closest("a.vgm").attr("data-title",b.attr("alt")).attr("href",a),b.hasClass("background-image")&&h(),T()}function H(){var a=$("#vfu").val(),b=$("#vfv").val(),c=$("#vfw").val(),d=$("."+$("#vfx").val());"video/"==a.substring(0,6)&&(a=a.replace("video/","../video/")),"video/"==b.substring(0,6)&&(b=b.replace("video/","../video/")),"video/"==c.substring(0,6)&&(c=c.replace("video/","../video/")),d.find('source[type="video/mp4"]').attr("src",a),d.find('source[type="video/webm"]').attr("src",b),d.find('source[type="video/ogg"]').attr("src",c),h(),T()}function I(a){var b,c,d=a.target.files;for(b=0;c=d[b];b++)image_url="../img/"+c.name,$('#vbr [vdh="'+c.name+'"]').length||($('#vbr [vdh="'+c.name+'"]').remove(),$("#vbr, #vca").append('<div class="vau"><img class="vav" src="../img/'+c.name+'" vdh="'+c.name+'" onerror="variant.chooserImageError(this)"/><span class="vfi"></span></div>'));K()}function J(){if($.localStorage(_+".gallery.images"))$("#vbr").html($.localStorage(_+".gallery.images")),$("#vbr div").each(function(){$(this).find("img").length||$(this).remove(),$(this).hasClass("vdb")&&$(this).remove()});else{var a=$("#vcb").attr("vak").split(",");a.forEach(function(a){$("#vbr").append('<div class="vau"><img class="vav" src="../img/'+a+'" vdh="'+a+'" onerror="variant.defaultImageError(this)"/></div>')})}}function K(){$.localStorage(_+".gallery.images",$("#vca").html()),$("#vbr").html($("#vca").html())}function L(a){var b=$(a).find("img");b.attr("src",""),b.attr("src","../img/"+b.attr("vdh")),b.css("display","inline"),$(a).removeClass("vdb"),$(a).find(".vfi").html("")}function M(){var a="",b=$("#vby").attr("vi").split(",");$("#vby").attr("vi"),b.forEach(function(b){a+='<div class="vm"><i class="icon '+b+'" vbz="'+b+'"></i></div>'}),$("#vby").html(a)}function N(){var a=$("#vdw"),b="";$("#vdr .vfc").each(function(){b+='<div class="vdu filter-'+$(this).attr("data-filter")+'" vdy="'+$(this).attr("id")+'"><img src="img/sections/'+$(this).attr("id")+'.jpg"/><span class="vdt">'+$(this).attr("vah")+"</span></div>"}),a.html(b),$("#vg, #vh").toggleClass("vez")}function O(a){var b=$("."+a);if($(b).is("p , div, span, figure, article, img")&&($(b).is('[class*="medium-"]')||$(b).parent().is('div [class*="medium-"]'))&&($(b).parent().is('div [class*="medium-"]')&&(b=$(b).parent()),!$(b).hasClass("medium-12"))){if(b.hasClass("medium-11"))return void b.removeClass("medium-11").addClass("medium-12");if(b.hasClass("medium-10"))return void b.removeClass("medium-10").addClass("medium-11");if(b.hasClass("medium-9"))return void b.removeClass("medium-9").addClass("medium-10");if(b.hasClass("medium-8"))return void b.removeClass("medium-8").addClass("medium-9");if(b.hasClass("medium-7"))return void b.removeClass("medium-7").addClass("medium-8");if(b.hasClass("medium-6"))return void b.removeClass("medium-6").addClass("medium-7");if(b.hasClass("medium-5"))return void b.removeClass("medium-5").addClass("medium-6");if(b.hasClass("medium-4"))return void b.removeClass("medium-4").addClass("medium-5");if(b.hasClass("medium-3"))return void b.removeClass("medium-3").addClass("medium-4");if(b.hasClass("medium-2"))return void b.removeClass("medium-2").addClass("medium-3");if(b.hasClass("medium-1"))return void b.removeClass("medium-1").addClass("medium-2")}T()}function P(a){var b=$("."+a);if($(b).is("p , div, span, figure, article, img")&&($(b).is('[class*="medium-"]')||$(b).parent().is('div [class*="medium-"]'))&&($(b).parent().is('div [class*="medium-"]')&&(b=$(b).parent()),!$(b).hasClass("medium-1"))){if(b.hasClass("medium-12"))return void b.removeClass("medium-12").addClass("medium-11");if(b.hasClass("medium-11"))return void b.removeClass("medium-11").addClass("medium-10");if(b.hasClass("medium-10"))return void b.removeClass("medium-10").addClass("medium-9");if(b.hasClass("medium-9"))return void b.removeClass("medium-9").addClass("medium-8");if(b.hasClass("medium-8"))return void b.removeClass("medium-8").addClass("medium-7");if(b.hasClass("medium-7"))return void b.removeClass("medium-7").addClass("medium-6");if(b.hasClass("medium-6"))return void b.removeClass("medium-6").addClass("medium-5");if(b.hasClass("medium-5"))return void b.removeClass("medium-5").addClass("medium-4");if(b.hasClass("medium-4"))return void b.removeClass("medium-4").addClass("medium-3");if(b.hasClass("medium-3"))return void b.removeClass("medium-3").addClass("medium-2");if(b.hasClass("medium-2"))return void b.removeClass("medium-2").addClass("medium-1")}T()}function Q(a){var b,c,d;$("[vfb="+$(a).parent().attr("vag")+"]").length?(c=$("[vfb="+$(a).parent().attr("vag")+"]").attr("id"),d=$('#vd [href="#'+$("[vfb="+$(a).parent().attr("vag")+"]").attr("id")+'"], #vck [href="#'+$("[vfb="+$(a).parent().attr("vag")+"]").attr("id")+'"]'),d.attr("href","#"+R($(a).text())),n(),$("[vfb="+$(a).parent().attr("vag")+"]").attr("id",R($(a).text())).attr("vfa",$(a).text())):(b=$("."+$(a).parent().attr("vag")),b.before('<a id="'+R($(a).text())+'" class="in-page-link" vfa="'+$(a).text()+'" vfb="'+$(a).parent().attr("vag")+'"></a>'))}function R(a){return a.toLowerCase().replace(/[^\w ]+/g,"").replace(/ +/g,"-")}function S(){$("#vce").addClass("vez");var a=$(ab).find(".in-page-link");a.length&&(output='<option value="">Select an in-page navigation link</option>',a.each(function(){var a=$(this);output+='<option value="#'+a.attr("id")+'">'+a.attr("vfa")+"</option>"}),$("#vce").html(output).removeClass("vez"))}function T(){$(".veo").addClass("vez"),n(),o(),$.localStorage(_+".state.vcg")?($.localStorage(_+".state.vck."+$.localStorage(_+".state.vcg"),$("#vck").html()),$.localStorage(_+".state.vch."+$.localStorage(_+".state.vcg"),$("#vch").html())):($.localStorage(_+".state.vck",$("#vck").html()),$.localStorage(_+".state.vch",$("#vch").html()),$.localStorage(_+".state.page-title",$("#v-b").text()))}function U(){var a=(new Date).getTime();newStateName=$("#vdp").val(),stateID="vfe-"+a,$("#vep").append('<li class="vfe" vfe="'+stateID+'" ver="'+newStateName+'"></li>'),$("#vdk").prepend('<div class="vcj" ver="'+newStateName+'" veq="'+stateID+'"><i class="vicon vicon-delete"></i><i class="vicon vicon-paper-sheet"></i><span>'+newStateName+"</span></div>"),$('#vep [vfe="'+$.localStorage(_+".state.vcg")+'"]').attr("page-title",$("#v-b").text()),$.localStorage(_+".state.vep",$("#vep").html()),$.localStorage(_+".state.vck."+stateID,$("#vck").html()),$.localStorage(_+".state.vch."+stateID,$("#vch").html()),$.localStorage(_+".state.vcg",stateID),$.localStorage(_+".state.vcf",newStateName),$("#vbd").text("Saved as: "+newStateName).removeClass("vez")}function V(b,c){$(".veo").addClass("vez");var d,b="undefined"!=typeof b?b:"",c="undefined"!=typeof c?c:"",e=$.localStorage(_+".state.page-title");b||(b=$.localStorage(_+".state.vcg"),c=$.localStorage(_+".state.vcf")),stateHTML=".state.vck."+b,d=".state.vch."+b,$('#vep [vfe="'+b+'"]').attr("page-title")?e=$('#vep [vfe="'+b+'"]').attr("page-title"):($("#v-b").text("Edit Page Title"),document.title="Variant HTML Builder by Medium Rare"),$.localStorage(_+".state.vcg",b),$.localStorage(_+".state.vcf",c),b||(stateHTML=".state.vck",d=".state.vch",e=$.localStorage(_+".state.page-title")),$.localStorage(_+stateHTML)&&(c=c?"Saved as "+c:"Unnamed page",$("#vbd").text(c).removeClass("vez"),$("#v-b").text(e),document.title=e,$("#vck").html($.localStorage(_+stateHTML)),$("#vch").html($.localStorage(_+d)),$("#vch").sortable({revert:!1,cursor:"move",opacity:.7,delay:150,update:function(){f()}}),a(),h())}function W(){$("#vep").html($.localStorage(_+".state.vep")),$("#vep li").each(function(){$("#vdk").prepend('<div class="vcj" ver="'+$(this).attr("ver")+'" veq="'+$(this).attr("vfe")+'"><i class="vicon vicon-delete"></i><i class="vicon vicon-paper-sheet"></i><span>'+$(this).attr("ver")+"</span></div>")})}function X(){height=$("#vdg .vcm").outerHeight()+$("#ves").outerHeight()+$("#vdj").outerHeight(),height=$("#vdg").innerHeight()-height,$("#vdk").css("height",height),$.localStorage(_+".state.vcg")?($("#vci span").html("Load "+$.localStorage(_+".state.vcf")),$(".veo").removeClass("vez")):$.localStorage(_+".state.vck")?($("#vci").removeClass("vez"),$(".veo").removeClass("vez")):$("#ven").removeClass("vez")}var Y,Z,_,ab,bb,cb,db,eb,fb,gb="";a(),$(document).bind("mouseup",function(a){1==a.which&&$("#vaa").hide()}),$(document).ready(function(){$(window).resize(b),b(),N(),J(),M(),W(),m(),s(),$("#vej").click(function(){$("#vd").toggleClass("fullwidth"),$("#sidebar").toggleClass("vbv"),$("#vd").hasClass("fullwidth")?$("nav").addClass("fullwidth"):$("nav").removeClass("fullwidth"),$(".veg").each(function(){$(this).hasClass("vef")&&$(this).toggleClass("vbu")})}),$("#vci").click(function(){$("#vci").addClass("vez"),$("#v-b").removeClass("vez"),V()}),$("#ven").click(function(){$.localStorage(_+".state.vcg",""),$.localStorage(_+".state.vcf",""),$(".veo").addClass("vez"),$("#vg").trigger("click"),$("#v-b").removeClass("vez")}),$("#vd").mouseup(function(){$("#vd").attr("veq",""),$("#vd").attr("ver",""),$(".veg").removeClass("vef")}),$("#vg").click(function(){t()}),$(".vdx a").click(function(){return $(".vdx a").removeClass("active"),$(this).addClass("active"),"*"==$(this).attr("data-filter")?void $(".vdu").removeClass("vez"):($(".vdu").addClass("vez"),void $(".vdu.filter-"+$(this).attr("data-filter")).removeClass("vez"))}),$(".vde").click(function(){optionsModal=$("#vdg"),optionsModal.hasClass("vef")?optionsModal.removeClass("vef"):($(".veg").removeClass("vef"),optionsModal.addClass("vef"))}),$(".vcl").each(function(){var a=$(this).data("vct"),b=($(this).data("vfj"),$(this).attr("id"));a.forEach(function(c){$("#vcy").append('<li class="vcz" nav-id="'+b+'" vda="'+c.className+'" origin="original">'+c.name+"</li>"),a.length>1?"vdc"!=c.className&&$("#vcu").append('<div vcx="'+c.className+'" class="vv vt vdf vcv">Change nav style to <strong>'+c.name+"</strong></div>"):$("#vcu .vgc").length||$("#vcu").append('<div class="vv vgc vt vdf">No alternative styles for this type of menu</div>')})}),$("#vbl .vfc").each(function(){var a=$(this).attr("vah"),b=$(this).attr("id");$("#vbn").append('<li class="vbo" vbm="'+b+'" origin="original">'+a+"</li>")}),$("#v-b").on("blur keyup paste input",function(){document.title=$(this).text(),$.localStorage(_+".state.vcg")?($('#vep [vfe="'+$.localStorage(_+".state.vcg")+'"]').attr("page-title",$(this).text()),$.localStorage(_+".state.vep",$("#vep").html())):$.localStorage(_+".state.page-title",$(this).text()),T()}),$("#vfz").click(A),$("#vdo").on("click",function(){k(),$.modal.close()}),$("#vdn").keyup(function(a){13===a.keyCode&&""!=$("#vdn").val()&&(k(),$.modal.close())}),$("#vdm").on("click",function(){""!=$("#vdl").val()&&(q(),$.modal.close())}),$("#vdl").keyup(function(a){13===a.keyCode&&""!=$("#vdl").val()&&(q(),$.modal.close())}),$("#vdp").keyup(function(a){13===a.keyCode&&""!=$("#vdp").val()&&(U(),$.modal.close())}),$("#vdq").on("click",function(){""!=$("#vdp").val()&&(U(),$.modal.close())}),$("#vbh").on("click",function(){F(),$.modal.close()}),$("#vbf").keyup(function(a){13===a.keyCode&&""!=$("#vbf").val()&&(F(),$.modal.close())}),$("#vce").change(function(){$("#vbf").val($(this).val())}),$("#vax").on("click",function(){G(),$.modal.close()}),$("#vfr").on("click",function(){B(),$.modal.close()}),$("#vfp").keyup(function(a){13===a.keyCode&&(B(),$.modal.close())}),$("#vgd").on("click",function(){H(),$.modal.close()}),$("#vay, #vaq").keyup(function(a){13===a.keyCode&&(G(),$.modal.close())}),$("#vfu, #vfv, #vfw").keyup(function(a){13===a.keyCode&&(H(),$.modal.close())}),$(".veh .title").click(function(){$(this).toggleClass("active").closest(".veh").find("ul").toggleClass("vdd"),$(this).parent().toggleClass("active")}),$("#vdi").click(function(){y()}),$("#vem").click(function(){$(".vev").toggleClass("vev vff"),$(this).toggleClass("vez"),$("#vbw").toggleClass("vez")}),$("#vbw").click(function(){$(".vff").toggleClass("vev vff"),$(this).toggleClass("vez"),$("#vem").toggleClass("vez")}),$("#vaz").click(function(){$("#vcc, #vcb").toggleClass("vez")}),$("#vba").click(function(){$("#vaz").trigger("click")}),$("#vat").change(function(a){I(a)}),$("#vbs").click(function(){var a,c,d,e,f=$("#vck").clone();$("#va").html(""),f.find("h1:empty, h2:empty, h3:empty, h4:empty, h5:empty, h6:empty, a:empty, p:empty, span:empty, li:empty, em:empty, strong:empty").not(".in-page-link").addClass("vev"),f.find(".vev, .vff").each(function(){E($(this))}),$(f).find("p, span, li, ul, h1, h2, h3, h4, h5, h6, nav, header, footer, strong, em, a, section, div, i, img, figure, video, iframe").removeClass("vfh vff").removeClass("custom").removeClass("original").alterClass("vew-*","").alterClass("v-*","").alterClass("variant-*","").removeAttr("vai").removeAttr("vfa").removeAttr("vfb").removeAttr("contenteditable").removeAttr("data-vgl"),$(f).find("nav").alterClass("veu-*","").removeAttr("veu").removeAttr("vfd").removeAttr("style"),$(f).find("footer").alterClass("vet-*","").removeAttr("vet").removeAttr("vey"),$(f).find('*[class=""]').removeAttr("class"),a=$("#vfg").html(),a=String(a).replace("[title]","&lt;title&gt;"+document.title+"&lt;/title&gt;"),c=$(f).html().replace(/><section/g,">\r\n\r\n	<section").replace(/><header/g,">\r\n\r\n	<header").replace(/><footer/g,">\r\n\r\n	<footer").replace(/><nav/g,">\r\n\r\n<nav").replace(/><a id=/g,">\r\n\r\n	<a id="),c=i(c),d=$("#vex").html(),e=String(a+c+d),e=String(e).replace(/..\/img\//g,"img/").replace(/..\/video\//g,"video/"),$("#va").append(e),$("#vel").modal({autoResize:!0,overlayClose:!0,opacity:40,minHeight:600,minWidth:900,overlayCss:{"background-color":"#3e3e3e"},closeHTML:'<i class="vicon vicon-delete"></i>',closeClass:"vcn",onShow:function(){switch(window.location.protocol){case"http:":case"https:":case"file:":$("#vz").click(function(){$("#va").select()}),$("#vz").show(),$("#vx").show(),$("#va").select()}b()},onClose:function(){$.modal.close(),b()}}),""!=$.localStorage(_+".default.images")&&$.localStorage(_+".default.images",$("#vcb").attr("vak"))}),$("#vp").click(function(){$('#vcy [origin="custom"]').remove(),$.localStorage(_+".vae",""),$("#vp").html("Cleared").removeClass("vj").addClass("vk"),setTimeout(function(){$("#vp").html("Clear Navs").removeClass("vk").addClass("vj")},1500)}),$("#vq").click(function(){$('#vbn [origin="custom"]').remove(),$.localStorage(_+".customfooters",""),$("#vq").html("Cleared").removeClass("vj").addClass("vk"),setTimeout(function(){$("#vq").html("Clear Footers").removeClass("vk").addClass("vj")},1500)}),$("#vr").click(function(){var a;$("#vep li").each(function(){var a,b=$(this).attr("vfe");a=$.localStorage.io(_+".state.vck."+b),a.remove(),a=$.localStorage.io(_+".state.vch."+b),a.remove(),$(this).remove()}),$("#vdk div").remove(),a=$.localStorage.io(_+".state.vck"),a.remove(),a=$.localStorage.io(_+".state.vch"),a.remove(),a=$.localStorage.io(_+".state.page-title"),a.remove(),a=$.localStorage.io(_+".state.vcg"),a.remove(),a=$.localStorage.io(_+".state.vcf"),a.remove(),a=$.localStorage.io(_+".state.vep"),a.remove(),$("#vr").html("Cleared").removeClass("vj").addClass("vk"),setTimeout(function(){$("#vr").html("Clear Saved Pages").removeClass("vk").addClass("vj")},1500)}),$("#vo").click(function(){$("#vdk div").remove(),$("#vep li").remove(),window.localStorage.clear(),$("#vo").html("Cleared").removeClass("vj").addClass("vk"),setTimeout(function(){$("#vo").html("Rebooting").removeClass("vk").addClass("vj"),window.location.reload()},1500)}),$(".veg .vcn").click(function(){$(this).closest(".veg").toggleClass("vef"),$(this).closest(".veg").removeClass("vbu")}),$("img").on("dragstart",function(a){a.preventDefault()}),$(document).on("click",".vao",function(){var a=$(this).parent().attr("nav-id");$(this).parent().remove(),$("."+a).remove(),n()}),$(document).on("click",".van",function(){footID=$("#ved").val(),$("#vdz-"+navID).remove(),$("."+navID).remove(),$("#ved").removeClass("vec"),$("#vao").hide(),o()}),$(document).on("click",".vcj",function(){V($(this).attr("veq"),$(this).attr("ver"))}),$(document).on("click",".vcz",function(){d($(this).attr("nav-id"),$(this).attr("vda"),$(this).attr("origin")),$("#vcy").removeClass("vdd"),$(this).closest(".veh").find(".active").removeClass("active"),$(this).closest(".nav-sidebar").removeClass("active")}),$(document).on("click",".vbo",function(){e($(this).attr("vbm"),$(this).attr("origin")),$("#vbn").removeClass("vdd"),$(this).closest(".veh").find(".active").removeClass("active"),$(this).closest(".footer-sidebar").removeClass("active")}),$(document).on("click",".vam",function(){var a=$(this).attr("vag");$("#vck ."+a).remove(),$("[vfb="+a+"]").remove(),$(this).parent().parent().remove(),h()}),$(document).on("click",".vf",function(){$(this).parent().find("span").trigger("focus")}),$(document).on("click",".vcv",function(){var a=$("."+$("#vd nav").attr("vai"));$(".vcl").each(function(){var b=$(this).data("vct");b.forEach(function(b){a.removeClass(b.className)})}),a.addClass($(this).attr("vcx")),T()}),$(document).on("blur keyup paste input","[contenteditable]",function(){""===$(this).html()&&$(this).html("&nbsp;"),$("#vck ."+$(this).attr("vai")).html($(this).html()),T()}),$(document).on("blur keyup paste input",".original",function(){$(this).removeClass("original").addClass("custom")}),$(document).on("keyup paste input","nav.original",function(){j($(this))}),$(document).on("keyup paste input",".vds span",function(){Q($(this))}),$(document).on("keyup paste input","nav.custom",function(){n()}),$(document).on("keyup paste input","#vdn",function(){""!=$(this).val()?$("#vdo").show():$("#vdo").hide()}),$(document).on("keyup paste input","footer.original",function(){p($(this))}),$(document).on("keyup paste input","footer.custom",function(){o()}),$(document).on("keyup paste input","#vdl",function(){""!=$(this).val()?$("#vdm").show():$("#vdm").hide()}),$(document).on("keyup paste input","#vdp",function(){""!=$(this).val()?$("#vdq").show():$("#vdq").hide()}),$("#vd").on("mouseenter","p , span, a, h1, h2, h3, h4, h5, h6, strong, em, li, ul, div, i, img",function(){$(this).addClass("vbx")}),$(document).on("mouseleave","p , span, a, h1, h2, h3, h4, h5, h6, strong, em, li, ul, div, i, img",function(){$(this).removeClass("vbx")}),$(document).on("mouseover",'[vai] [class*="medium-"]',function(){gb=$(this).attr("vai"),$(this).focus()}),$(document).on("keyup",document,function(a){gb.length&&(219===a.keyCode&&P(gb),221===a.keyCode&&O(gb))}),$(document).on("contextmenu","[vai]",function(a){$(".vv").removeClass("vez"),$("#vas").text("Edit Image"),$("#vbe").text("Edit Link"),$(".vdf").addClass("vez");var c,d,e,f,g,i,j,k=$("#vck ."+$(this).attr("vai")),l=$(k).closest("section");return htmlTags={LI:"List Item",H1:"Heading",H2:"Heading",H3:"Heading",H4:"Heading",H5:"Heading",H6:"Heading",P:"Paragraph",SPAN:"Span",UL:"Unordered List",DIV:"Div",IMG:"Image",STRONG:"Strong Text",EM:"Emphasised Text",I:"Icon",A:"Link"},$("#vu").text(htmlTags[k.get(0).tagName]),$(l).data("vgl")&&z(l),k.is("p , span, h1, h2, h3, h4, h5, h6, strong, em, li, ul, div")&&($("#vs").unbind("click").bind("click",function(){C(k.attr("vai"))}),$("#val").unbind("click").bind("click",function(){D(k.attr("vai"))})),k.is("a")&&($("#vbe").removeClass("vez"),$("#vbe").unbind("click").bind("click",function(){u(k.attr("vai"))}),$("#vs").unbind("click").bind("click",function(){C(k.attr("vai"))}),k.parent().is("li")&&$("#vs").unbind("click").bind("click",function(){C(k.parent().attr("vai"))}),$("#val").unbind("click").bind("click",function(){D(k.attr("vai"))})),k.is("img")&&($("#vas").removeClass("vez"),$("#vas").unbind("click").bind("click",function(){v(k.attr("vai"))}),$("#vs").unbind("click").bind("click",function(){C(k.attr("vai"))}),$("#val").unbind("click").bind("click",function(){D(k.attr("vai"))})),k.is("div.background-image-holder > div")&&($("#vas").removeClass("vez"),$("#vas").unbind("click").bind("click",function(){v(k.parent().find(".background-image").attr("vai"))}),$("#vs").unbind("click").addClass("vez"),$("#val").unbind("click").bind("click",function(){D(k.attr("vai"))})),k.is("div.background-image-holder")&&($("#vas").removeClass("vez"),$("#vas").unbind("click").bind("click",function(){v(k.find(".background-image").attr("vai"))}),$("#vs").unbind("click").addClass("vez"),$("#val").unbind("click").bind("click",function(){D(k.attr("vai"))})),k.closest("a").length&&($("#vbe").removeClass("vez"),k.closest("a").hasClass("vgm")&&($("#vu").text("Lightbox > "+$("#vu").text()),$("#vbe").text("Edit Lightbox Link"),$("#vas").text("Edit Thumbnail Image")),e=k.closest("a").attr("vai"),$("#vbe").unbind("click").bind("click",function(){u(e)})),k.closest(".vgn").length&&$("#vs").unbind("click").bind("click",function(){C(k.closest(".vgn").attr("vai"))}),k.is(".slides li .background-image-holder > div")&&($("#vu").text("Slide"),c=k.parent().find(".background-image").get(0),$(c).hasClass("background-image")&&($("#vas").removeClass("vez"),$("#vas").unbind("click").bind("click",function(){v($(c).attr("vai"))})),$("#vs").unbind("click").bind("click",function(){C(k.parent().parent().attr("vai")),h()}),$("#val").unbind("click").bind("click",function(){D(k.parent().parent().attr("vai"),!0),h()})),k.is(".slides li")&&($("#vu").text("Slide"),c=k.find(".background-image").get(0),$(c).hasClass("background-image")&&($("#vas").removeClass("vez"),$("#vas").unbind("click").bind("click",function(){v($(c).attr("vai"))})),$("#vs").unbind("click").bind("click",function(){C(k.attr("vai")),h()}),$("#val").unbind("click").bind("click",function(){D(k.attr("vai"),!0),h()})),k.closest("section").find(".background-image").length&&(c=k.closest(".slides li").find(".background-image"),c.length&&($("#vas").removeClass("vez"),$("#vas").unbind("click").bind("click",function(){v(c.attr("vai"))
}))),k.closest(".slides li").find(".background-image").length&&(c=k.closest(".slides li").find(".background-image"),c.length&&$("#vas").removeClass("vez").unbind("click").bind("click",function(){v(c.attr("vai"))}).text("Edit Slide Image")),k.closest(".slides li").length&&($("#clone-slide-button").removeClass("vez"),$("#delete-slide-button").removeClass("vez"),$("#clone-slide-button").unbind("click").bind("click",function(){C(k.closest(".slides li").attr("vai")),h()}),$("#delete-slide-button").unbind("click").bind("click",function(){D(k.closest(".slides li").attr("vai"),!0),h()})),k.is(".slides li")&&($("#vu").text("Slide"),$("#clone-slide-button").removeClass("vez"),$("#delete-slide-button").removeClass("vez"),$("#vs").unbind("click").bind("click",function(){C(k.attr("vai")),h()}),$("#val").unbind("click").bind("click",function(){D(k.attr("vai"),!0),h()})),k.is(".slides li .overlay")?($("#vs").addClass("vez"),$("#val").addClass("vez"),$("#vu").text("Slide")):k.is(".slides li div:not(.overlay)")&&$("#vu").text("Slide > Div"),k.closest(".divider-background").find(".video-wrapper").children("video").length&&(k.is(".overlay")&&($("#vu").text("Video Background"),$("#vs").addClass("vez"),$("#val").addClass("vez")),video=k.closest(".divider-background").find(".video-wrapper").children("video"),$("#vfy").removeClass("vez"),$("#vfy").unbind("click").bind("click",function(){x($(video).attr("vai"))}),k.closest(".divider-background").find(".background-image-holder").children(".background-image").length&&($("#vas").text("Edit Poster Image"),$("#vas").removeClass("vez"),$("#vas").unbind("click").bind("click",function(){v(k.closest(".divider-background").find(".background-image-holder").children(".background-image").attr("vai"))})),k.closest(".divider-background").find(".background-image").length&&($("#vas").text("Edit Poster Image"),$("#vas").removeClass("vez"),$("#vas").unbind("click").bind("click",function(){v(k.closest(".divider-background").find(".background-image").attr("vai"))}))),k.closest(".slides li").find(".video-wrapper").children("video").length&&(k.is(".overlay")&&($("#vu").text("Video Slide Background"),$("#vs").addClass("vez"),$("#val").addClass("vez")),video=k.closest(".slides li").find(".video-wrapper").children("video"),$("#vas").text("Edit Poster Image"),$("#vfy").removeClass("vez"),$("#vfy").unbind("click").bind("click",function(){x($(video).attr("vai"))})),k.closest(".slides li").find(".video-wrapper").children("video").length&&k.closest(".slides li").find(".background-image-holder").children(".background-image").length&&($("#vas").text("Edit Poster Image"),$("#vas").removeClass("vez"),$("#vas").unbind("click").bind("click",function(){v(k.closest(".slides li").find(".background-image-holder").children(".background-image").attr("vai"))})),k.is("p , div, span, figure, article, img")&&(k.closest('[class*="medium-"]').length&&(closestElement=k.closest('[class*="medium-"]'),closestElement.hasClass("medium-12")||($("#vcd").removeClass("vez"),$("#vcd").unbind("click").bind("click",function(){O(closestElement.attr("vai"))})),closestElement.hasClass("medium-1")||($("#vaj").removeClass("vez"),$("#vaj").unbind("click").bind("click",function(){P(closestElement.attr("vai"))}))),k.parent().is('div [class*="medium-"]')&&(k.parent().hasClass("medium-1")||($("#vaj").removeClass("vez"),$("#vaj").unbind("click").bind("click",function(){P(k.attr("vai"))})),k.parent().hasClass("medium-12")||($("#vcd").removeClass("vez"),$("#vcd").unbind("click").bind("click",function(){O(k.attr("vai"))})))),k.is("header")&&($("#vu").text("Header"),c=k.find(".background-image").get(0),c.length&&$("#vas").removeClass("vez").unbind("click").bind("click",function(){v($(c).attr("vai"))}),$("#vs").unbind("click").bind("click",function(){C(k.attr("vai"))}),$("#val").unbind("click").bind("click",function(){D(k.attr("vai"))})),k.is(".divider-background")&&($("#vu").text("Image Divider"),c=k.find(".background-image").get(0),$(c).hasClass("background-image")&&($("#vas").removeClass("vez"),$("#vas").unbind("click").bind("click",function(){v($(c).attr("vai"))})),$("#vs").unbind("click").bind("click",function(){C(k.attr("vai"))}),$("#val").unbind("click").bind("click",function(){D(k.attr("vai"))})),k.parent().is(".divider-background")&&($("#vu").text("Image Divider"),k.is(".overlay")&&($("#vs").addClass("vez"),$("#val").addClass("vez")),c=k.parent().find(".background-image").get(0),$(c).hasClass("background-image")&&($("#vas").removeClass("vez"),$("#vas").unbind("click").bind("click",function(){v($(c).attr("vai"))}))),k.is(".cover-wrapper, .hover-state")&&($("#vu").text("Work Item"),c=k.closest("figure").find("img").get(0),d=k.closest("a").first(),$(c).is("img")&&($("#vas").removeClass("vez"),$("#vas").unbind("click").bind("click",function(){v($(c).attr("vai"))})),f=k.closest("figure").attr("vai"),$("#vs").unbind("click").bind("click",function(){C(f)}),$("#val").unbind("click").bind("click",function(){D(f)})),k.is("i")&&($("#vu").text("Icon"),$("#vap").removeClass("vez"),$("#vap").unbind("click").bind("click",function(){w(k.attr("vai"))}),$("#vs").unbind("click").bind("click",function(){C(k.attr("vai"))}),$("#val").unbind("click").bind("click",function(){D(k.attr("vai"))})),(k.parents("nav").length||k.is("nav"))&&(k.is("nav")?($("#vu").text("Nav"),$(".vv").addClass("vez")):$("#vu").text("Nav > "+$("#vu").text()),$("#vcu").removeClass("vez"),$(".vcv").each(function(){$("#vd nav").hasClass($(this).attr("vcx"))||$(this).removeClass("vez")}),$("#vaa .vv").not(".vez").length||$("#vcu .vgc").removeClass("vez")),g=$("#vaa"),i=$(window).width(),j=$(window).height(),a.pageX+g.outerWidth()>i?g.css("left",i-g.outerWidth()):g.css("left",a.pageX),a.pageY+g.outerHeight()>j?g.css("top",j-g.outerHeight()):g.css("top",a.pageY),g.show(),b(),!1}),$(document).on("click",".vff",function(){$(this).removeClass("vff vev").addClass("vfh"),$("#vck ."+$(this).attr("vai")).removeClass("vff vev").addClass("vfh"),n(),o(),T()}),$(document).on("click",".vav",function(){$("#vay").val($(this).attr("src").replace("../img/","img/")),$("#vba").attr("src",$(this).attr("src")),$("#vcc, #vcb").toggleClass("vez")}),$(document).on("click",".vdu",function(){var a=$(this);$("#v-b").removeClass("vez"),a.hasClass("vl")?$("#vee").toggleClass("vef"):(a.addClass("vl"),setTimeout(function(){a.removeClass("vl")},300),c($(this).attr("vdy")))}),$(document).on("click",".vdb",function(){L(this)}),$(document).on("click",".vt",function(){$("#vaa").hide()}),$(document).on("click",".vm i",function(){$("."+$("#vea").val()).alterClass("icon-large","keep-large-icon").alterClass("icon-*","").alterClass("social_*","").addClass($(this).attr("vbz")).alterClass("keep-large-icon","icon-large"),T()}),$(document).on("click",".vcj i.vicon-delete",function(){var a,b=$(this).parent().attr("veq");return b==$.localStorage(_+".state.vcg")&&($("#vci").addClass("vez"),$.localStorage(_+".state.vcg",""),$.localStorage(_+".state.vcf","")),$("#vep [vfe="+b+"]").remove(),$.localStorage(_+".state.vep",$("#vep").html()),a=$.localStorage.io(_+".state.vck."+b),a.remove(),a=$.localStorage.io(_+".state.vch."+b),a.remove(),$(this).parent().remove(),!1})}),$(window).load(function(){var a=window.navigator.userAgent,b=a.indexOf("MSIE "),c=0;(b>0||navigator.userAgent.match(/Trident.*rv\:11\./))&&($("#if-ie").removeClass("vez"),c=1),0==c&&setTimeout(function(){$("#splash").addClass("content-hidden"),$("#container").removeClass("content-hidden"),setTimeout(function(){$("#splash").remove(),X()},500)},2e3)}),this.chooserImageError=function(a){$(a).parent().addClass("vdb"),$(a).parent().find(".vfi").html("Copy <strong>"+$(a).attr("vdh")+"</strong> to your img folder then click here to refresh."),$(a).css("display","none")},this.defaultImageError=function(a){$(a).parent().remove(),$(a).remove()}}function findStrings(){for(var a="",b=0,c=String(Variant),d=0,e=c.length;e>d;d++)"'"==c[d]?(a+=c[d],0==b?b=1:(a+=",",b=0)):1==b&&(a+=c[d]);var f=a.split(",");allStringsSorted=f.sort()}variant=new Variant,document.getHTML=function(a,b){if(!a||!a.tagName)return"";var c,d,e=document.createElement("div");return e.appendChild(a.cloneNode(!1)),c=e.innerHTML,b&&(d=c.indexOf(">")+1,c=c.substring(0,d)+a.innerHTML+c.substring(d)),e=null,c};var removeDuplicatesInPlace=function(a){var b,c,d,e;for(b=a.length-1;b>=0;b--)for(d=a[b],e=!1,c=b-1;!e&&c>=0;c--)d===a[c]&&(b!==c&&a.splice(b,1),e=!0);return a};